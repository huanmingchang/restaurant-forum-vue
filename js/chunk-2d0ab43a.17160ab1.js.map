{"version":3,"sources":["webpack:///./src/views/User.vue?785e","webpack:///./src/components/UserProfileCard.vue?2aa5","webpack:///src/components/UserProfileCard.vue","webpack:///./src/components/UserProfileCard.vue?4e56","webpack:///./src/components/UserProfileCard.vue","webpack:///./src/components/UserFollowingsCard.vue?d76d","webpack:///src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowingsCard.vue?1afc","webpack:///./src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowersCard.vue?bac2","webpack:///src/components/UserFollowersCard.vue","webpack:///./src/components/UserFollowersCard.vue?35dd","webpack:///./src/components/UserFollowersCard.vue","webpack:///./src/components/UserCommentsCard.vue?9305","webpack:///src/components/UserCommentsCard.vue","webpack:///./src/components/UserCommentsCard.vue?438b","webpack:///./src/components/UserCommentsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?a9b1","webpack:///src/components/UserFavoritedRestaurantsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?042f","webpack:///./src/components/UserFavoritedRestaurantsCard.vue","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","userProfile","currentUser","on","handleAddFollowing","handleDeleteFollowing","staticRenderFns","image","_v","_s","name","email","Comments","length","FavoritedRestaurants","Followings","Followers","id","params","isFollowed","$event","stopPropagation","preventDefault","deleteFollowing","addFollowing","props","type","Object","required","methods","$emit","userId","component","_l","following","key","initialUserProfile","data","watch","handler","deep","immediate","follower","comment","Restaurant","restaurant","components","UserProfileCard","UserFollowingsCard","UserFollowersCard","UserCommentsCard","UserFavoritedRestaurantsCard","computed","beforeRouteUpdate","fetchUserProfile","next","created"],"mappings":"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","file":"js/chunk-2d0ab43a.17160ab1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"album py-5 bg-light\"},[_c('div',{staticClass:\"container\"},[_c('UserProfileCard',{attrs:{\"userProfile\":_vm.userProfile,\"currentUser\":_vm.currentUser},on:{\"add-following\":_vm.handleAddFollowing,\"delete-following\":_vm.handleDeleteFollowing}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('UserFollowingsCard',{attrs:{\"initial-user-profile\":_vm.userProfile}}),_c('br'),_c('UserFollowersCard',{attrs:{\"initial-user-profile\":_vm.userProfile}})],1),_c('div',{staticClass:\"col-md-8\"},[_c('UserCommentsCard',{attrs:{\"userProfile\":_vm.userProfile}}),_c('br'),_c('UserFavoritedRestaurantsCard',{attrs:{\"userProfile\":_vm.userProfile}})],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-4\"},[_c('img',{attrs:{\"src\":_vm.userProfile.image,\"width\":\"300px\",\"height\":\"300px\"}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.userProfile.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(_vm.userProfile.email))]),_c('ul',{staticClass:\"list-unstyled list-inline\"},[_c('li',[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.Comments ? _vm.userProfile.Comments.length : '0'))]),_vm._v(\" 已評論餐廳 \")]),_c('li',[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.FavoritedRestaurants ? _vm.userProfile.FavoritedRestaurants.length : '0'))]),_vm._v(\" 收藏的餐廳 \")]),_c('li',[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.Followings ? _vm.userProfile.Followings.length : '0'))]),_vm._v(\" followings (追蹤者) \")]),_c('li',[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.Followers ? _vm.userProfile.Followers.length : '0'))]),_vm._v(\" followers (追隨者) \")])]),_c('p',[(_vm.userProfile.id === _vm.currentUser.id)?_c('router-link',{attrs:{\"to\":{ name: 'user-edit', params: { id: _vm.userProfile.id } }}},[_c('button',{staticClass:\"btn btn-primary mr-2\",attrs:{\"type\":\"submit\"}},[_vm._v(\" edit \")])]):[(!_vm.userProfile.isFollowed)?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(_vm.userProfile.id)}}},[_vm._v(\" 追蹤 \")]):_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowing(_vm.userProfile.id)}}},[_vm._v(\" 取消追蹤 \")])]],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"row no-gutters\">\n      <div class=\"col-md-4\">\n        <img :src=\"userProfile.image\" width=\"300px\" height=\"300px\" />\n      </div>\n      <div class=\"col-md-8\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{ userProfile.name }}</h5>\n          <p class=\"card-text\">{{ userProfile.email }}</p>\n          <ul class=\"list-unstyled list-inline\">\n            <li>\n              <strong>\n                {{\n                  userProfile.Comments ? userProfile.Comments.length : '0'\n                }}</strong\n              >\n              已評論餐廳\n            </li>\n            <li>\n              <strong>\n                {{\n                  userProfile.FavoritedRestaurants\n                    ? userProfile.FavoritedRestaurants.length\n                    : '0'\n                }}</strong\n              >\n              收藏的餐廳\n            </li>\n            <li>\n              <strong>\n                {{\n                  userProfile.Followings ? userProfile.Followings.length : '0'\n                }}</strong\n              >\n              followings (追蹤者)\n            </li>\n            <li>\n              <strong>\n                {{\n                  userProfile.Followers ? userProfile.Followers.length : '0'\n                }}</strong\n              >\n              followers (追隨者)\n            </li>\n          </ul>\n          <p>\n            <router-link\n              :to=\"{ name: 'user-edit', params: { id: userProfile.id } }\"\n              v-if=\"userProfile.id === currentUser.id\"\n              ><button type=\"submit\" class=\"btn btn-primary mr-2\">\n                edit\n              </button></router-link\n            >\n            <template v-else>\n              <button\n                v-if=\"!userProfile.isFollowed\"\n                type=\"submit\"\n                class=\"btn btn-primary\"\n                @click.stop.prevent=\"addFollowing(userProfile.id)\"\n              >\n                追蹤\n              </button>\n              <button\n                v-else\n                type=\"submit\"\n                class=\"btn btn-danger\"\n                @click.stop.prevent=\"deleteFollowing(userProfile.id)\"\n              >\n                取消追蹤\n              </button>\n            </template>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserProfileCard',\n  props: {\n    userProfile: {\n      type: Object,\n      required: true,\n    },\n    currentUser: {\n      type: Object,\n      required: true,\n    },\n  },\n  methods: {\n    addFollowing(userId) {\n      this.$emit('add-following', userId)\n    },\n    deleteFollowing(userId) {\n      this.$emit('delete-following', userId)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=47b72074&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.Followings ? _vm.userProfile.Followings.length : '0'))]),_vm._v(\" followings (追蹤者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.userProfile.Followings),function(following){return _c('router-link',{key:following.id,attrs:{\"to\":{ name: 'user', params: { id: following.id } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":following.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>\n        {{\n          userProfile.Followings ? userProfile.Followings.length : '0'\n        }}</strong\n      >\n      followings (追蹤者)\n    </div>\n    <div class=\"card-body\">\n      <router-link\n        v-for=\"following in userProfile.Followings\"\n        :key=\"following.id\"\n        :to=\"{ name: 'user', params: { id: following.id } }\"\n      >\n        <img :src=\"following.image\" width=\"60\" height=\"60\" class=\"avatar\" />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserFollowingsCard',\n  props: {\n    initialUserProfile: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userProfile: this.initialUserProfile,\n    }\n  },\n  watch: {\n    initialUserProfile: {\n      handler: function (newValue) {\n        this.userProfile = {\n          ...this.userProfile,\n          ...newValue,\n        }\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowingsCard.vue?vue&type=template&id=b064147c&\"\nimport script from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.Followers ? _vm.userProfile.Followers.length : '0'))]),_vm._v(\" followers (追隨者) \")]),_vm._l((_vm.userProfile.Followers),function(follower){return _c('div',{key:follower.id,staticClass:\"card-body\"},[_c('router-link',{attrs:{\"to\":{ name: 'user', params: { id: follower.id } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":follower.image,\"width\":\"60\",\"height\":\"60\"}})])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>\n        {{ userProfile.Followers ? userProfile.Followers.length : '0' }}</strong\n      >\n      followers (追隨者)\n    </div>\n    <div\n      v-for=\"follower in userProfile.Followers\"\n      :key=\"follower.id\"\n      class=\"card-body\"\n    >\n      <router-link :to=\"{ name: 'user', params: { id: follower.id } }\">\n        <img :src=\"follower.image\" width=\"60\" height=\"60\" class=\"avatar\" />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserFollowersCard',\n  props: {\n    initialUserProfile: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userProfile: this.initialUserProfile,\n    }\n  },\n  watch: {\n    initialUserProfile: {\n      handler: function (newValue) {\n        this.userProfile = {\n          ...this.userProfile,\n          ...newValue,\n        }\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowersCard.vue?vue&type=template&id=232edf80&\"\nimport script from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(\" \"+_vm._s(_vm.userProfile.Comments ? _vm.userProfile.Comments.length : '0'))]),_vm._v(\" 已評論餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.userProfile.Comments),function(comment){return _c('router-link',{key:comment.id,attrs:{\"to\":{ name: 'restaurant-show', params: { id: comment.Restaurant.id } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":comment.Restaurant.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>\n        {{ userProfile.Comments ? userProfile.Comments.length : '0' }}</strong\n      >\n      已評論餐廳\n    </div>\n    <div class=\"card-body\">\n      <router-link\n        :to=\"{ name: 'restaurant-show', params: { id: comment.Restaurant.id } }\"\n        v-for=\"comment in userProfile.Comments\"\n        :key=\"comment.id\"\n      >\n        <img\n          :src=\"comment.Restaurant.image\"\n          width=\"60\"\n          height=\"60\"\n          class=\"avatar\"\n        />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserCommentsCard',\n  props: {\n    userProfile: {\n      type: Object,\n      required: true,\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCommentsCard.vue?vue&type=template&id=420d5d24&\"\nimport script from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.userProfile.FavoritedRestaurants ? _vm.userProfile.FavoritedRestaurants.length : '0'))]),_vm._v(\" 收藏的餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.userProfile.FavoritedRestaurants),function(restaurant){return _c('router-link',{key:restaurant.id,attrs:{\"to\":{ name: 'restaurant-show', params: { id: restaurant.id } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":restaurant.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>{{\n        userProfile.FavoritedRestaurants\n          ? userProfile.FavoritedRestaurants.length\n          : '0'\n      }}</strong>\n      收藏的餐廳\n    </div>\n    <div class=\"card-body\">\n      <router-link\n        :to=\"{ name: 'restaurant-show', params: { id: restaurant.id } }\"\n        v-for=\"restaurant in userProfile.FavoritedRestaurants\"\n        :key=\"restaurant.id\"\n      >\n        <img :src=\"restaurant.image\" width=\"60\" height=\"60\" class=\"avatar\" />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserFavoritedRestaurantsCard',\n  props: {\n    userProfile: {\n      type: Object,\n      required: true,\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFavoritedRestaurantsCard.vue?vue&type=template&id=6e52f148&\"\nimport script from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"album py-5 bg-light\">\n    <div class=\"container\">\n      <!-- user profile card -->\n      <UserProfileCard\n        :userProfile=\"userProfile\"\n        :currentUser=\"currentUser\"\n        @add-following=\"handleAddFollowing\"\n        @delete-following=\"handleDeleteFollowing\"\n      />\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <!-- user followings card -->\n          <UserFollowingsCard :initial-user-profile=\"userProfile\" />\n          <br />\n          <!-- user followers card -->\n          <UserFollowersCard :initial-user-profile=\"userProfile\" />\n        </div>\n\n        <div class=\"col-md-8\">\n          <!-- user comments cards -->\n          <UserCommentsCard :userProfile=\"userProfile\" />\n          <br />\n          <!-- user favorited restaurants -->\n          <UserFavoritedRestaurantsCard :userProfile=\"userProfile\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport UserProfileCard from './../components/UserProfileCard'\nimport UserFollowingsCard from './../components/UserFollowingsCard'\nimport UserFollowersCard from './../components/UserFollowersCard'\nimport UserCommentsCard from './../components/UserCommentsCard'\nimport UserFavoritedRestaurantsCard from './../components/UserFavoritedRestaurantsCard'\nimport usersAPI from './../apis/users'\nimport { Toast } from './../utils/helpers'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'User',\n  components: {\n    UserProfileCard,\n    UserFollowingsCard,\n    UserFollowersCard,\n    UserCommentsCard,\n    UserFavoritedRestaurantsCard,\n  },\n  data() {\n    return {\n      userProfile: {},\n    }\n  },\n\n  methods: {\n    async fetchUserProfile(userId) {\n      try {\n        const { data } = await usersAPI.get({\n          userId,\n        })\n\n        this.userProfile = {\n          ...data.profile,\n          isFollowed: data.isFollowed,\n        }\n      } catch (error) {\n        console.log(error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得使用者資料，請稍後再試',\n        })\n      }\n    },\n\n    async handleAddFollowing(userId) {\n      try {\n        const { data } = await usersAPI.addFollowing({ userId })\n\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n\n        this.userProfile = {\n          ...this.userProfile,\n          isFollowed: true,\n        }\n      } catch (error) {\n        console.log(error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法追蹤使用者，請稍後再試',\n        })\n      }\n    },\n    async handleDeleteFollowing(userId) {\n      try {\n        const { data } = await usersAPI.deleteFollowing({ userId })\n\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n\n        this.userProfile = {\n          ...this.userProfile,\n          isFollowed: false,\n        }\n        this.userProfile = {\n          ...this.userProfile,\n          Followings: this.userProfile.Followings.filter(\n            (user) => user.id !== { ...mapState(['currentUser']) }.id\n          ),\n        }\n      } catch (error) {\n        console.log(error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法取消追蹤使用者，請稍後再試',\n        })\n      }\n    },\n  },\n  computed: {\n    ...mapState(['currentUser']),\n  },\n  beforeRouteUpdate(to, from, next) {\n    const { id } = to.params\n    this.fetchUserProfile(id)\n    next()\n  },\n  created() {\n    const { id } = this.$route.params\n    this.fetchUserProfile(id)\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=29703452&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}